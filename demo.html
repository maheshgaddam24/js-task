<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Download image using API</title>
    <link rel="stylesheet" href="csss.css">
</head>

<body>
    <div class='header'>
        <h1>Random Image Generator!</h1>
    </div>
    <div class="container">
        <div class='images'>
            <div id='d-img'>
                <p>Placeholder Image</p>
            </div>
        </div>

        <div class='buttons'>
            <button id="btn-dog" onclick="fetchDogImage()">Random Image!</button>
            <button id="btn-dog" onclick="download()" >Click to download</button>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js"></script>
    <script>
        const dImage = document.getElementById('d-img');
        const dButton = document.getElementById('btn-dog');

        dButton.addEventListener('click', fetchDogImage);

        function fetchCatImage() {
            fetch('https://aws.random.cat/meow')
                .then(response => response.json())
                .then(data => {
                    catImage.innerHTML = `<img src="${data.file}"/>`;
                })
        }

        function fetchDogImage() {
            fetch('https://dog.ceo/api/breeds/image/random')
                .then(response => response.json())
                .then(data => {
                    dImage.innerHTML = `<img src="${data.message}"/>`;
                })
        }

        function download() {
            axios({
                url: 'https://dog.ceo/api/breeds/image/random',
                method: "GET",
                responseType: "blob"
            })
                .then((response) => {
                    const temp = window.URL.createObjectURL(new Blob([response.data]));
                    const link = document.createElement('a');
                    link.href = temp;
                    link.setAttribute('download', 'image.jpg');
                    document.body.appendChild(link);
                    link.click();
                });
        }
    </script>

    <script>
        
    </script>


</body>